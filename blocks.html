<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="style.css"/>
    <title>Blocks</title>
    <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.27.2.min.js"></script>
        <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>eruda.init();</script>
  </head>
  <body>
    <h1>Blocks</h1>
    <p>Alpha 0.3</p>
    <canvas id="game" height="160" width="160">
      
    </canvas>
    <img style="position:absolute; top:0px; left:0px;" src="wanderer.png" id="player">
    <button id="changemap">Change map</button>
    Current map: <span id="cmap">Two Islands</span><br>
    If you see magenta, there was an error
    <button id="up">Up</button>
    <button id="dn">Down</button>
    <button id="lf">Left</button>
    <button id="rg">Right</button>
    <script type="module">
      var x = 0
      var y = 0
      import {RMG} from "./rmg.js"
      import {italy} from "./italy.js"
      var twoIslands = [
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwffwwwwwww"],
      [..."wwwwwffffwwwwwww"],
      [..."wwwwwwffwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwgwwwwwww"],
      [..."wwwwwwwggggwwwww"],
      [..."wwwwwgggmmggwwww"],
      [..."wwwwwwggmfggwwww"],
      [..."wwwwwwwgggwwwwww"],
      [..."wwwwwwwwwgwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"]
      
      ]
      var cgs = twoIslands
      var river = [
      [..."ffffffffffffffff"],
      [..."ffffffffffffffff"],
      [..."ffffffffffffffff"],
      [..."ffffffffgfffffff"],
      [..."fffffffgggffffff"],
      [..."ffffffwwwwwfffff"],
      [..."fffffwwwwwwwffff"],
      [..."ffffffwwwwwfffff"],
      [..."ffffffffffwfffff"],
      [..."ffffffffffwwffff"],
      [..."fffffffffffwffff"],
      [..."ffffffmmmmmfwwww"],
      [..."fffmmmgggmmmffff"],
      [..."fmmgggggggmgffff"],
      [..."mgggggggggmggggf"],
      [..."gggggggggggggggg"]
      
      ]
      var delta = [
      [..."wwwwwwwwwwwwwwww"],
      [..."wwwwwwwwwwwwwwww"],
      [..."gwgwgwgwgwgwgwgw"],
      [..."ggwgggwgggwgggwg"],
      [..."gggwgwgggggwgwgg"],
      [..."ggggwgggggggwggg"],
      [..."gggggwwwwgwwgggg"],
      [..."gggggggggwgggggg"],
      [..."gggggggggwgggggg"],
      [..."ggggggggfwfggggg"],
      [..."gggggggffwffgggg"],
      [..."ggggggfffwfffggg"],
      [..."gggggffffwffffgg"],
      [..."ggggfffffwfffffg"],
      [..."ggfffffffwffffff"],
      [..."gffffffffwffffff"]
      
      ]
      var cmap=0
      console.log(cgs)
      var i = 0
      var j = 0
      var c = document.getElementById("game");
var ctx = c.getContext("2d");
      for(i=0;i<=255;i++){
        j = Math.floor(i/16)
        switch(cgs[j][i%16]){
          case "w":
            ctx.fillStyle="#0000ff"
            break;
          case "f":
            ctx.fillStyle="#008000"
            break;
          case "g":
            ctx.fillStyle="#808000"
            break;
          case "m":
            ctx.fillStyle="#c0c0c0"
            break;
        }
        ctx.fillRect(10*(i-(16*j)),10*j,10,10)
      }
      $("#changemap").click(function(){
        ctx.clearRect(0, 0, c.width, c.height)
        cmap = (cmap+1)%5
        
        switch(cmap){
          case 0:
            cgs = twoIslands
            $("#cmap").text("Two Islands")
            break
          case 1:
            cgs = river
            $("#cmap").text("River")
            break
          case 2:
            cgs = delta
            $("#cmap").text("Delta")
            break
          case 3:
            cgs = RMG()
            $("#cmap").text("Random")
            break
          case 4:
            cgs = italy
            $("#cmap").text("Italy")
            $("body").append("<img src='pizza.png'/>")
        }
          for(i=0;i<=255;i++){
        j = Math.floor(i/16)
        switch(cgs[j][i%16]){
          case "w":
            ctx.fillStyle="#0000ff"
            break;
          case "f":
            ctx.fillStyle="#008000"
            break;
          case "g":
            ctx.fillStyle="#808000"
            break;
          case "m":
            ctx.fillStyle="#c0c0c0"
            break;
          default:
            ctx.fillStyle = "#ff00ff"
            break;
        }
        ctx.fillRect(10*(i-(16*j)),10*j,10,10)
      }
      })
      $("#up").click(function(){
        y--
        $("#player").css("top", 10*y+"px")
      })
      $("#dn").click(function(){
        y++
        $("#player").css("top", 10*y+"px")
      })
      $("#lf").click(function(){
        x--
        $("#player").css("left", 10*y+"px")
      })
      $("#rg").click(function(){
        x++
        $("#player").css("left", 10*y+"px")
      })
    </script>
  </body>
</html>
